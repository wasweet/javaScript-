<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
		
		// 子函数被使用时父级环境将被保留
			function fn1() {
				let num1 = 1;
				return function() {
					let num2 = 1;
					return function() {
						console.log(++num1)
						console.log(++num2)
					}
				}
			}
			let a = fn1()();
			a();
			a()
			
			// 构造函数也是很好的环境例子，子函数被外部使用父级环境将被保留
			function User() {
				let a = 1;
				this.show = function () {
					console.log(a++)
				}
			}
			let user = new User();
			user.show() // 1
			user.show() // 2
			let user2 = new User();
			user2.show() // 1
			
			
			
			//使用闭包返回数组区间元素
			let arr = [3, 2, 4, 1, 5, 6];
			function between(a,b) {
				return function(v) {
					return v>=a && v<= b
				}
			}
			console.log(arr.filter(between(3,5))) // [3, 4, 5]
			
		</script>
	</body>
</html>
